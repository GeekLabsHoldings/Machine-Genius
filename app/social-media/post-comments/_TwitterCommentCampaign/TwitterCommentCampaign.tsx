"use client";
import { AccountsData } from "@/app/_data/data";
import styles from "./TwitterCommentCampaign.module.css";
import {
  runningClockIcon,
  finishedCheckIcon,
  pausedIcon,
} from "@/app/_utils/svgIcons";
import { useState } from "react";
import { TwitterSharingAccount } from "../page";

const TwitterCommentCampaign = ({
  twitterAccountsData,
}: {
  twitterAccountsData: TwitterSharingAccount[] | null;
}) => {
  // for storing the order of subscribers and engagement (descending or ascending)
  const [subscriberOrder, setsubscriberOrder] = useState<boolean>(true);
  const [engagementOrder, setengagementOrder] = useState<boolean>(true);

  //   return data about account , number of comments and campaign type
  const renderAccounts =
    Array.isArray(twitterAccountsData) && twitterAccountsData.length > 0 ? (
      [...twitterAccountsData].reverse().map((oneAccount, idx) => (
        <ul key={idx} className={`${styles.tableBody} borderBottom articleRow`}>
          <li className="w-[20%] flex justify-center text-center gap-[1vw]">
            <p>{oneAccount.accountName}</p>
          </li>
          <li className={`w-[20%] `}>{oneAccount.userName}</li>

          <li className="w-[20%]">{oneAccount.comments + " " + "comments"}</li>
          <li className="w-[20%] flex justify-center items-center">
            <span
              className={`flex gap-[0.5vw] items-center w-fit ${
                oneAccount.status === "Finished"
                  ? "bg-[#5FA85BB5]"
                  : oneAccount.status === "Running"
                  ? "bg-[#E9313EB2]"
                  : "bg-[#E1C655B2]"
              }`}
            >
              {oneAccount.status === "Finished"
                ? finishedCheckIcon
                : oneAccount.status === "Paused"
                ? pausedIcon
                : runningClockIcon}
              <p>{oneAccount.status}</p>
            </span>
          </li>
          <li className="w-[20%] flex justify-center">
            <span
              className={`flex gap-[0.5vw] items-center w-fit ${
                oneAccount.campaignType === "Auto Comment"
                  ? "bg-[#5FA85BB5]"
                  : "bg-[#E1C655B2]"
              }`}
            >
              <p>{oneAccount.campaignType}</p>
            </span>
          </li>
        </ul>
      ))
    ) : (
      <div className="flex justify-center items-center h-full">
        <span className="custom-loader"></span>
      </div>
    );

  return (
    <div className={`${styles.wrapper} w-full h-full pt-[0.5vw]`}>
      {/* filters options to filter and edit data in table */}
      <div className={`flex flex-col gap-[0.7vw] w-full pageHeader`}>
        <div className="flex justify-between">
          <div className={`${styles.filters} w-8/12 flex gap-[1vw]`}>
            <div className="flex flex-col w-1/3 gap-[0.3vw]">
              <h5>Account Name</h5>
              <div className={`${styles.changeOrder} `}>
                <p>Account Name</p>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="17"
                  viewBox="0 0 16 17"
                  fill="none"
                >
                  <path
                    d="M9.3793 11.8304H7.80262V0.332387C7.80265 0.14886 7.65379 0 7.47026 0H2.33924C2.15571 0 2.00688 0.14886 2.00688 0.332387V11.8304H0.430167C-0.0286343 11.8304 -0.137701 12.0934 0.186816 12.418L4.31725 16.5484C4.64177 16.8729 5.1677 16.8729 5.49224 16.5484L9.62265 12.418C9.9472 12.0934 9.83831 11.8304 9.3793 11.8304Z"
                    fill="black"
                  />
                  <path
                    d="M14.1666 7.304C14.1389 7.23488 14.0718 7.18945 13.9973 7.18945H13.0255C12.9504 7.18945 12.8829 7.2356 12.8555 7.30564L11.0828 11.8571C11.0609 11.9133 11.0682 11.9766 11.1021 12.0262C11.136 12.076 11.1924 12.1058 11.2526 12.1058H12.2275C12.3043 12.1058 12.3727 12.0578 12.3989 11.9856L12.731 11.0718H14.2971L14.6495 11.9887C14.6765 12.0591 14.7444 12.1056 14.8197 12.1056H15.8194C15.8799 12.1056 15.9365 12.0755 15.9704 12.0253C16.0044 11.9752 16.0113 11.9115 15.9886 11.8553L14.1666 7.304ZM13.8653 9.9402H13.1464L13.5023 8.96239L13.8653 9.9402Z"
                    fill="black"
                  />
                  <path
                    d="M11.5039 4.28387V5.1128C11.5039 5.21349 11.5856 5.29522 11.6863 5.29522H15.3841C15.4848 5.29522 15.5665 5.21349 15.5665 5.1128V4.34588C15.5665 4.24518 15.4848 4.16345 15.3841 4.16345H13.1778L15.4295 1.39022C15.4559 1.35776 15.4703 1.31708 15.4703 1.27532V0.56133C15.4703 0.460639 15.3886 0.378906 15.2879 0.378906H11.9565C11.8558 0.378906 11.7741 0.460639 11.7741 0.56133V1.33135C11.7741 1.43204 11.8558 1.51378 11.9565 1.51378H13.6947L11.5446 4.16914C11.5184 4.20161 11.5039 4.24211 11.5039 4.28387Z"
                    fill="black"
                  />
                </svg>
              </div>
            </div>
            <div className="flex flex-col w-1/3 gap-[0.3vw]">
              <h5>Username</h5>
              <div className={`${styles.changeOrder} `}>
                <p>Username</p>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="17"
                  viewBox="0 0 16 17"
                  fill="none"
                >
                  <path
                    d="M9.3793 11.8304H7.80262V0.332387C7.80265 0.14886 7.65379 0 7.47026 0H2.33924C2.15571 0 2.00688 0.14886 2.00688 0.332387V11.8304H0.430167C-0.0286343 11.8304 -0.137701 12.0934 0.186816 12.418L4.31725 16.5484C4.64177 16.8729 5.1677 16.8729 5.49224 16.5484L9.62265 12.418C9.9472 12.0934 9.83831 11.8304 9.3793 11.8304Z"
                    fill="black"
                  />
                  <path
                    d="M14.1666 7.304C14.1389 7.23488 14.0718 7.18945 13.9973 7.18945H13.0255C12.9504 7.18945 12.8829 7.2356 12.8555 7.30564L11.0828 11.8571C11.0609 11.9133 11.0682 11.9766 11.1021 12.0262C11.136 12.076 11.1924 12.1058 11.2526 12.1058H12.2275C12.3043 12.1058 12.3727 12.0578 12.3989 11.9856L12.731 11.0718H14.2971L14.6495 11.9887C14.6765 12.0591 14.7444 12.1056 14.8197 12.1056H15.8194C15.8799 12.1056 15.9365 12.0755 15.9704 12.0253C16.0044 11.9752 16.0113 11.9115 15.9886 11.8553L14.1666 7.304ZM13.8653 9.9402H13.1464L13.5023 8.96239L13.8653 9.9402Z"
                    fill="black"
                  />
                  <path
                    d="M11.5039 4.28387V5.1128C11.5039 5.21349 11.5856 5.29522 11.6863 5.29522H15.3841C15.4848 5.29522 15.5665 5.21349 15.5665 5.1128V4.34588C15.5665 4.24518 15.4848 4.16345 15.3841 4.16345H13.1778L15.4295 1.39022C15.4559 1.35776 15.4703 1.31708 15.4703 1.27532V0.56133C15.4703 0.460639 15.3886 0.378906 15.2879 0.378906H11.9565C11.8558 0.378906 11.7741 0.460639 11.7741 0.56133V1.33135C11.7741 1.43204 11.8558 1.51378 11.9565 1.51378H13.6947L11.5446 4.16914C11.5184 4.20161 11.5039 4.24211 11.5039 4.28387Z"
                    fill="black"
                  />
                </svg>
              </div>
            </div>
            <div className="flex flex-col w-[25%] gap-[0.3vw]">
              <h5>Followers</h5>
              <div
                className={`${styles.changeOrder} `}
                onClick={() => {
                  setengagementOrder(!engagementOrder);
                }}
              >
                <p>{engagementOrder ? "Ascend" : "Descend"}</p>
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M8.80002 10.2959C8.7281 10.1444 8.61483 10.0164 8.47327 9.92664C8.33171 9.83684 8.16764 9.78889 8 9.78834H5.33327V0.889318C5.33327 0.653584 5.23961 0.427504 5.07291 0.260815C4.90621 0.0941257 4.68011 0.000481606 4.44436 0.000481606C4.2086 0.000481606 3.9825 0.0941257 3.8158 0.260815C3.6491 0.427504 3.55544 0.653584 3.55544 0.889318V9.78834H0.888709C0.721067 9.78889 0.556998 9.83684 0.41544 9.92664C0.273883 10.0164 0.160607 10.1444 0.0886892 10.2959C0.0155567 10.4455 -0.0132581 10.613 0.00564103 10.7785C0.0245402 10.944 0.0903656 11.1007 0.195359 11.23L3.751 15.6795C3.83646 15.78 3.94272 15.8607 4.06244 15.916C4.18215 15.9713 4.31247 16 4.44436 16C4.57624 16 4.70656 15.9713 4.82627 15.916C4.94599 15.8607 5.05225 15.78 5.13771 15.6795L8.69335 11.23C8.79834 11.1007 8.86417 10.944 8.88307 10.7785C8.90197 10.613 8.87315 10.4455 8.80002 10.2959ZM15.9113 5.70414C15.8394 5.85556 15.7261 5.98356 15.5846 6.07336C15.443 6.16316 15.2789 6.21111 15.1113 6.21166H12.4446V15.1107C12.4446 15.3464 12.3509 15.5725 12.1842 15.7392C12.0175 15.9059 11.7914 15.9995 11.5556 15.9995C11.3199 15.9995 11.0938 15.9059 10.9271 15.7392C10.7604 15.5725 10.6667 15.3464 10.6667 15.1107V6.21166H8C7.83236 6.21111 7.66829 6.16316 7.52673 6.07336C7.38517 5.98356 7.2719 5.85556 7.19998 5.70414C7.12685 5.55446 7.09803 5.387 7.11693 5.22148C7.13583 5.05597 7.20166 4.89931 7.30665 4.76997L10.8623 0.320463C10.9477 0.22001 11.054 0.139324 11.1737 0.083992C11.2934 0.0286589 11.4238 0 11.5556 0C11.6875 0 11.8178 0.0286589 11.9376 0.083992C12.0573 0.139324 12.1635 0.22001 12.249 0.320463L15.8046 4.76997C15.9096 4.89931 15.9755 5.05597 15.9944 5.22148C16.0133 5.387 15.9844 5.55446 15.9113 5.70414Z"
                    fill="#2A2B2A"
                  />
                </svg>
              </div>
            </div>

            <div className={`flex flex-col w-[25%] gap-[0.3vw] `}>
              <h5>Engagement</h5>
              <div
                className={`${styles.changeOrder} `}
                onClick={() => {
                  setsubscriberOrder(!subscriberOrder);
                }}
              >
                <p>{subscriberOrder ? "Ascend" : "Descend"}</p>
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M8.80002 10.2959C8.7281 10.1444 8.61483 10.0164 8.47327 9.92664C8.33171 9.83684 8.16764 9.78889 8 9.78834H5.33327V0.889318C5.33327 0.653584 5.23961 0.427504 5.07291 0.260815C4.90621 0.0941257 4.68011 0.000481606 4.44436 0.000481606C4.2086 0.000481606 3.9825 0.0941257 3.8158 0.260815C3.6491 0.427504 3.55544 0.653584 3.55544 0.889318V9.78834H0.888709C0.721067 9.78889 0.556998 9.83684 0.41544 9.92664C0.273883 10.0164 0.160607 10.1444 0.0886892 10.2959C0.0155567 10.4455 -0.0132581 10.613 0.00564103 10.7785C0.0245402 10.944 0.0903656 11.1007 0.195359 11.23L3.751 15.6795C3.83646 15.78 3.94272 15.8607 4.06244 15.916C4.18215 15.9713 4.31247 16 4.44436 16C4.57624 16 4.70656 15.9713 4.82627 15.916C4.94599 15.8607 5.05225 15.78 5.13771 15.6795L8.69335 11.23C8.79834 11.1007 8.86417 10.944 8.88307 10.7785C8.90197 10.613 8.87315 10.4455 8.80002 10.2959ZM15.9113 5.70414C15.8394 5.85556 15.7261 5.98356 15.5846 6.07336C15.443 6.16316 15.2789 6.21111 15.1113 6.21166H12.4446V15.1107C12.4446 15.3464 12.3509 15.5725 12.1842 15.7392C12.0175 15.9059 11.7914 15.9995 11.5556 15.9995C11.3199 15.9995 11.0938 15.9059 10.9271 15.7392C10.7604 15.5725 10.6667 15.3464 10.6667 15.1107V6.21166H8C7.83236 6.21111 7.66829 6.16316 7.52673 6.07336C7.38517 5.98356 7.2719 5.85556 7.19998 5.70414C7.12685 5.55446 7.09803 5.387 7.11693 5.22148C7.13583 5.05597 7.20166 4.89931 7.30665 4.76997L10.8623 0.320463C10.9477 0.22001 11.054 0.139324 11.1737 0.083992C11.2934 0.0286589 11.4238 0 11.5556 0C11.6875 0 11.8178 0.0286589 11.9376 0.083992C12.0573 0.139324 12.1635 0.22001 12.249 0.320463L15.8046 4.76997C15.9096 4.89931 15.9755 5.05597 15.9944 5.22148C16.0133 5.387 15.9844 5.55446 15.9113 5.70414Z"
                    fill="#2A2B2A"
                  />
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* // table has all comments  */}
      <div className="flex w-full">
        <div className={`${styles.box} w-full px-[0.5vw] `}>
          <div className={`${styles.tableContent}`}>
            <ul
              className={`${styles.tableHeader} flex justify-center items-center py-[2vh]`}
            >
              <li className="w-[20%] flex justify-center">
                <div className="flex items-center gap-[0.7vw]">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="21"
                    height="20"
                    viewBox="0 0 21 20"
                    fill="none"
                  >
                    <path
                      d="M10.032 0C11.3623 0 12.6382 0.526784 13.5788 1.46447C14.5195 2.40215 15.048 3.67392 15.048 5C15.048 6.32608 14.5195 7.59785 13.5788 8.53553C12.6382 9.47322 11.3623 10 10.032 10C8.70167 10 7.42584 9.47322 6.48515 8.53553C5.54447 7.59785 5.016 6.32608 5.016 5C5.016 3.67392 5.54447 2.40215 6.48515 1.46447C7.42584 0.526784 8.70167 0 10.032 0ZM10.032 12.5C15.5747 12.5 20.064 14.7375 20.064 17.5V20H0V17.5C0 14.7375 4.48932 12.5 10.032 12.5Z"
                      fill="black"
                    />
                  </svg>
                  <p>Account Name</p>
                </div>
              </li>

              <li className="w-[20%] flex justify-center">
                <div className="flex items-center gap-[0.7vw]">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="21"
                    height="20"
                    viewBox="0 0 21 20"
                    fill="none"
                  >
                    <path
                      d="M20.064 9.99695V10.1431C20.0312 11.5143 19.5209 13.0739 17.3631 13.0739C15.131 13.0739 14.6622 11.4008 14.6622 9.99695V6.1508C14.6624 6.04535 14.6409 5.94097 14.5989 5.84416C14.557 5.74735 14.4955 5.66017 14.4184 5.58803C14.3412 5.51589 14.25 5.46034 14.1504 5.42482C14.0508 5.3893 13.9449 5.37458 13.8393 5.38157C13.6406 5.39858 13.4557 5.49011 13.3219 5.63769C13.1882 5.78527 13.1156 5.97791 13.1188 6.17676V6.56138C12.4221 5.939 11.5527 5.54157 10.625 5.42144C9.69728 5.30131 8.75484 5.46412 7.92179 5.88841C7.08874 6.31271 6.40416 6.97859 5.95824 7.79834C5.51231 8.61809 5.32595 9.55327 5.42371 10.4807C5.52147 11.4081 5.89876 12.2842 6.50588 12.9937C7.113 13.7031 7.92147 14.2126 8.8248 14.4551C9.72813 14.6975 10.6839 14.6615 11.5663 14.3518C12.4487 14.042 13.2163 13.4732 13.768 12.72C13.8644 12.8882 13.9734 13.0489 14.094 13.2008C14.612 13.8431 15.5988 14.6123 17.3631 14.6123C17.661 14.6133 17.9586 14.5892 18.2525 14.5402C18.3251 14.5281 18.3997 14.5371 18.4675 14.5659C18.5352 14.5947 18.5932 14.6423 18.6347 14.703C18.6762 14.7636 18.6994 14.8349 18.7016 14.9083C18.7038 14.9817 18.6848 15.0541 18.647 15.1171C17.74 16.6336 16.4466 17.8839 14.8982 18.7409C13.3497 19.598 11.6012 20.0313 9.8304 19.997C4.54623 19.8912 0.212215 15.6566 0.00771685 10.3921C-0.0445894 9.06357 0.169421 7.73794 0.637228 6.4928C1.10504 5.24766 1.81725 4.10802 2.7322 3.14054C3.64714 2.17305 4.74646 1.39716 5.96583 0.858251C7.1852 0.31934 8.50015 0.0282305 9.83374 0.00195328C11.1673 -0.024324 12.4928 0.214759 13.7326 0.705214C14.9723 1.19567 16.1016 1.92765 17.0542 2.85833C18.0067 3.78902 18.7636 4.89972 19.2804 6.12546C19.7972 7.35119 20.0636 8.66736 20.064 9.99695ZM6.94523 9.99695C6.94523 10.6055 7.12627 11.2004 7.46545 11.7064C7.80462 12.2124 8.28671 12.6068 8.85074 12.8397C9.41478 13.0725 10.0354 13.1335 10.6342 13.0148C11.233 12.896 11.783 12.603 12.2147 12.1727C12.6464 11.7423 12.9404 11.1941 13.0595 10.5972C13.1786 10.0004 13.1174 9.3817 12.8838 8.81946C12.6502 8.25723 12.2545 7.77668 11.7469 7.43858C11.2393 7.10049 10.6425 6.92003 10.032 6.92003C9.21334 6.92003 8.42821 7.2442 7.84932 7.82124C7.27044 8.39827 6.94523 9.1809 6.94523 9.99695Z"
                      fill="black"
                    />
                  </svg>
                  <p>Username</p>
                </div>
              </li>

              <li className="w-[20%] flex justify-center">
                <div className="flex items-center gap-[0.7vw]">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="14"
                    viewBox="0 0 20 14"
                    fill="none"
                  >
                    <path
                      d="M3.5 11V3C3.5 1.34315 2.15685 0 0.5 0C0.22386 0 0 0.22386 0 0.5V13.5C0 13.7761 0.22386 14 0.5 14C2.15685 14 3.5 12.6569 3.5 11Z"
                      fill="#2A2B2A"
                    />
                    <path
                      d="M10.5 0C12.3856 0 13.3284 2.28882e-07 13.9142 0.58579C14.5 1.17157 14.5 2.11438 14.5 4V10C14.5 11.8856 14.5 12.8284 13.9142 13.4142C13.3284 14 12.3856 14 10.5 14H9.5C7.61438 14 6.67157 14 6.08579 13.4142C5.5 12.8284 5.5 11.8856 5.5 10V4C5.5 2.11438 5.5 1.17157 6.08579 0.58579C6.67157 2.28882e-07 7.61438 0 9.5 0H10.5Z"
                      fill="#2A2B2A"
                    />
                    <path
                      d="M16.5 3V11C16.5 12.6569 17.8431 14 19.5 14C19.7761 14 20 13.7761 20 13.5V0.5C20 0.22386 19.7761 0 19.5 0C17.8431 0 16.5 1.34315 16.5 3Z"
                      fill="#2A2B2A"
                    />
                  </svg>
                  <p>Comments</p>
                </div>
              </li>

              <li className="w-[20%] flex justify-center">
                <div className="flex items-center gap-[0.7vw]">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                  >
                    <path
                      d="M10 0C7.34784 0 4.8043 1.05357 2.92893 2.92893C1.05357 4.8043 0 7.34784 0 10C0 12.6522 1.05357 15.1957 2.92893 17.0711C4.8043 18.9464 7.34784 20 10 20C12.6522 20 15.1957 18.9464 17.0711 17.0711C18.9464 15.1957 20 12.6522 20 10C20 7.34784 18.9464 4.8043 17.0711 2.92893C15.1957 1.05357 12.6522 0 10 0ZM10 2.85714C10.4736 2.85714 10.9278 3.04528 11.2627 3.38017C11.5976 3.71505 11.7857 4.16926 11.7857 4.64286C11.7857 5.11646 11.5976 5.57066 11.2627 5.90555C10.9278 6.24043 10.4736 6.42857 10 6.42857C9.5264 6.42857 9.0722 6.24043 8.73731 5.90555C8.40242 5.57066 8.21429 5.11646 8.21429 4.64286C8.21429 4.16926 8.40242 3.71505 8.73731 3.38017C9.0722 3.04528 9.5264 2.85714 10 2.85714ZM8.57143 10C8.57143 9.21102 9.21102 8.57143 10 8.57143C10.789 8.57143 11.4286 9.21102 11.4286 10V15.7143C11.4286 16.5033 10.789 17.1429 10 17.1429C9.21102 17.1429 8.57143 16.5033 8.57143 15.7143V10Z"
                      fill="black"
                    />
                  </svg>
                  <p>Status</p>
                </div>
              </li>

              <li className="w-[20%] flex justify-center">
                <div className="flex items-center gap-[0.7vw]">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="19"
                    viewBox="0 0 20 19"
                    fill="none"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M11.25 12.5H13.125V3.75H11.25V12.5ZM18.75 0L14.375 2.91687V13.3331L18.75 16.25C19.44 16.25 20 15.69 20 15V1.25C20 0.56 19.44 0 18.75 0ZM0 8.125C0 10.4581 1.60062 11.9675 3.76187 12.3812L3.75 12.5V17.5C3.75 18.19 4.31 18.75 5 18.75H6.875C7.565 18.75 8.125 18.19 8.125 17.5V12.5H10V3.75H5C2.23875 3.75 0 5.36375 0 8.125Z"
                      fill="#2A2B2A"
                    />
                  </svg>
                  <p>Campaign Type</p>
                </div>
              </li>
            </ul>
            <div className={styles.tableBodyWrapper}>{renderAccounts}</div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default TwitterCommentCampaign;
